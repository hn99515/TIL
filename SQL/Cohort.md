# AARRR

| 요소                       | 기능                            | 관련 지표                                                                                                      |
| ------------------------ | ----------------------------- | ---------------------------------------------------------------------------------------------------------- |
| 사용자 획득<br/>Acquisition   | 다양한 방법을 통해 서비스를 알려야 함         | - 광고 CTR (Click Through Rate)<br/>- CPC (Cost Per Click)<br/>- CPM (Cost Per 1000 Impression)              |
| 사용자 활성<br/>Activation    | 일회성 방문자를 활동 사용자로 전환시켜야 함      | - 회원 가입 수<br/>- 가입 Funnel 단계 별 전환율                                                                         |
| **사용자 유지<br/>Retention** | **사용자가 계속 재방문하고 자주 사용하도록 유도** | - 클래식 리텐션<br/>- 롤링 리텐션<br/>- Stickiness                                                                    |
| 매출<br/>Revenue           | 사용자의 활동이 매출로 이어지도록 만들기        | - PU(Paying User) Rate<br/>- ARPU (Average Revenue Per User)<br/>- ARPPU (Average Revenue Per Paying User) |
| 추천<br/>Referral          | 다른 사람에게 서비스를 소개하도록 함          | - 바이럴 계수 (기존 고객 한 명 당 새로 데리고 온 고객의 수)<br/>- 바이럴 주기                                                         |

* *Retention 없는 Acquisition은 마케팅 예산 낭비로 이어질 가능성이 큼*
  
  * 그렇기 때문에 **가장 먼저 분석되어야 할 지표는 Retention**
  
  * 먼저 달성하면 좋은 지표 : Retention > Activation > Referral > Revenue > Acquisition

# 코호트 분석

> **고객을 전체 고객으로 보지 않고 사용자 그룹으로 나누어서 보는 것**

* **'재결제자'를 늘리기 위해서는 리텐션 지표를 분석해야 함**

* 예시
  
  * 고객들을 가입 시기별로 나누어 데이터 확인하기

# 클래식 리텐션

> **N-Day Retention**

* 지속적 사용의 기준은 서비스마다, 상황마다 달라질 수 있음

## ▶ 클래식 리텐션 계산법

* **유저 수를 보여주는 방법**
  
  * 0개월째 : 신규 결제자 수를 의미

| 사용자 구분 | 0개월째 | 1개월째 | 2개월째 |
|:------:|:----:|:----:|:----:|
| 1월     | 950  | 45   | 15   |
| 2월     | 450  | 25   |      |
| 3월     | 650  |      |      |

* **비율을 보여주는 방법**

| 사용자 구분 | 0개월째 | 1개월째 | 2개월째 |
|:------:|:----:|:----:|:----:|
| 1월     | 100% | 4.7% | 1.6% |
| 2월     | 100% | 5.2% |      |
| 3월     | 100% |      |      |

* **섞어서 사용하는 방법**

| 사용자 구분 | 0개월째 | 1개월째 | 2개월째 |
|:------:|:----:|:----:|:----:|
| 1월     | 951  | 4.7% | 1.6% |
| 2월     | 477  | 5.2% |      |
| 3월     | 653  |      |      |

* **SQL 로 계산하는 방법**
  
  ① 연관성 있는 테이블을 `JOIN`으로 연결
  
  ② 첫 주문일, 주문 날짜 데이터를 'YYYY-MM-01' 형태로 변경
  
  * `DATE_FORMAT()` 함수 사용
  
  ③ 위 데이터를 사용하여 각 월 별로 첫 구매한 고객이 몇 명인지 계산
  
  ④ 첫 결제한 달의 다음 달에도 결제한 고객은 몇 명인지 계산
  
  * `DATE_ADD()` 함수 및 `CASE WHEN` 구문 사용
  
  ⑤ 첫 결제한 달로부터 1 ~ 11 개월 뒤에도 주문한 고객의 수 계산
  
  * `DATE_ADD()` 함수 및 `CASE WHEN` 구문 사용

## ▶ 성과가 좋은 코호트의 특징

1️⃣ 해당 코호트 사용자들의 특징 알아보기

* **특정 그룹의 사용자들이 많이 결제 했을까?**
  
  * 사용자 구분 : 기업 고객 / 개인 고객 → segment 컬럼
  
  * 고객 등급 : VIP / 일반 고객
  
  * 성/연령별
  
  * 지역
  
  **`Action Item` : 해당 그룹의 사용자들을 더 많이 데려올 수 있도록 마케팅하기!**

* **특정 기능을 사용해봤는가?**
  
  **`Action Item` : 신규 사용잗들이 특정 기능을 사용할 수 있도록 유도하기!**

2️⃣ 첫 결제의 특징 알아보기

* **특히 결제가 많았던 카테고리가 있을까?**
  
  **`Action Item` : 해당 카테고리 상품을 구매할 만한 사용자들을 찾기!**
  
  **`Action Item` : 해당 카테고리에 할인 쿠폰을 발행하기!**
  
  **`Action Item` : 해당 카테고리에 다양한 제품을 구비하기!**

3️⃣ 신규 가입 사용자에게 구매 유도를 했던 방식

* 뉴스레터 / 앱 푸쉬 / 문자메시지 등 구매 유도를 했던 채널이 달랐을까?

* **구매 유도 문구가 달랐을까?**

* **구매 유도한 요일이나 시간대가 달랐을까?**

* **할인 쿠폰 발행 여부**

**`Action Item` : 해당 방식을 다른 코호트에도 적용해보기!**

## ▶ 클래식 리텐션의 한계

> *매일 분석할 경우, 하루만 방문하지 않았더라도 사용자가 이탈했다고 판단함*

# 롤링 리텐션

> **Unbounded Retention**

* **사용자가 이탈하지 않고 남아있는가? 에 초점을 맞춤!**
  
  * **마지막 방문 이전에는 방문하지 않았더라도 방문으로 간주**

* **SQL로 계산하는 방법**
  
  ① 첫 주문일, 마지막 주문일의 데이터를 'YYYY-MM-01' 형식으로 변경
  
  ② 위 데이터를 사용하여 각 월 별로 첫 구매한 고객이 몇 명인지 계산
  
  ③ 첫 주문 한 달 다음 달에도 이탈하지 않은 고객의 수 계산
  
  * `DATE_ADD()` 함수 : first_order_month, INTERVAL 1 month <= last_order_month
  
  * `CASE WHEN` 구문
  
  ④ 첫 주문 한 달 이후 2 ~ 11개월 뒤에도 이탈하지 않은 고객의 수 계산
  
  * `DATE_ADD()` 함수 및 `CASE WHEN` 구문 사용

## ▶ 롤링 리텐션 데이터 해석

1️⃣ **클래식 리텐션과 차이가 많이 남**

* *같은 데이터라도 클래식 리텐션이나 롤링 리텐션의 계산 방법에 따라 결과가 달라짐*
  
  * **차이가 많이 날수록 구매주기가 긴 서비스라는 것을 의미함**
  
  * **바로 다음달에 재구매가 일어나진 않았으나 나중에 구매가 있었다는 것을 의미**

2️⃣ **롤링 리텐션의 특성상 리텐션이 개선되고 있는지에 대한 해석은 어려움**

* **나중에라도 결제를 했으면 그 전 달에도 결제했다고 간주하기 때문**
  
  * 최근 코호트일수록 리텐션 값이 낮게 계산되고, 이전 코호트일수록 리텐션 값이 올라갈 수 밖에 없는 구조임

* 다른 코호트와 단순 비교해서 보기 어려움 : 1월 vs 11월 등

3️⃣ *숫자가 계속 바뀌기 때문에 보고용으로는 적합하지 않을 수 있음*

* 데이터에 대한 이해도가 없는 상사인 경우 롤링 리텐션으로 보고하지 않는 것이 좋음

## ▶ 추가 분석 아이디어 - 사용자의 구매주기 확인하기

1️⃣ 서비스가 월별 리텐션이 적합한지, 주별 리텐션이 적합한지 확인하는 방법은?

* **사용자들의 사용 주기, 결제 주기 같은 것들을 통해 리텐션 기준을 잡자!**
  
  * 메신저 서비스 : 매일 방문
  
  * 특정한 용도로 사용하는 서비스 : 예. 직방 - 이사를 준비할 때 접속하는 앱

2️⃣ 실무에서는 서비스가 어떤 구매주기를 가지는지 감으로 안다

* 현업에서는 데이터가 말해주는 것보다 사람들이 이미 알고 있는 것이 많음

* **문제에 대해서 잘 아는 분들과 이야기를 나누면서 가설을 세우고, 데이터로 검증하는 방식으로 분석을 진행**

* *데이터만 보고 해결하려고 하면 문제를 너무 어렵게 푸는 것*

3️⃣ **리텐션 분석을 할 때 보통 몇 개월치 데이터를 보는지?**

* 서비스나 리텐션의 기준에 따라 달라짐
  
  * 메신저 서비스 : 1개월
  
  * 직방 등과 같이 구매주기가 긴 서비스 : 1년 단위

4️⃣ **리텐션이 어느 정도가 되어야 좋다고 보는가? 기준이 있나?**

* 마찬가지로 서비스마다 기준은 다름
  
  * **측정하는 기준과 각자 상황이 다르기 때문에 다른 서비스와 비교하기보다는 우리 서비스의 과거와 현재를 비교하는 것이 좋음**
