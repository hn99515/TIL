# νΈλ¦¬ - Tree

## β–¶ κ°λ…

* **λΉ„μ„ ν• κµ¬μ΅°**

* μ›μ†λ“¤ κ°„μ— `1:n`(ν•λ‚μ λ…Έλ“ : μ—¬λ¬ κ°μ λ…Έλ“) κ΄€κ³„λ¥Ό κ°€μ§€λ” μλ£κµ¬μ΅°

* μ›μ†λ“¤ κ°„μ— κ³„μΈµκ΄€κ³„λ¥Ό κ°€μ§€λ” κ³„μΈµν• μλ£κµ¬μ΅°

* **μƒμ„ μ›μ†μ—μ„ ν•μ„ μ›μ†λ΅ λ‚΄λ ¤κ°€λ©΄μ„ ν™•μ¥λλ” νΈλ¦¬(λ‚λ¬΄) λ¨μ–‘μ κµ¬μ΅°**

## β–¶ μ •μ

* ν• κ° μ΄μƒμ λ…Έλ“λ΅ μ΄λ£¨μ–΄μ§„ μ ν• μ§‘ν•©
  
  * **λ…Έλ“ μ¤‘ μµμƒμ„ λ…Έλ“λ¥Ό λ£¨νΈ(root)λΌκ³  ν•λ‹¤.**
  
  * λ‚λ¨Έμ§€ λ…Έλ“λ“¤μ€ n(>= 0)κ°μ λ¶„λ¦¬ μ§‘ν•© T1, ..., TN μΌλ΅ λ¶„λ¦¬λ  μ μλ‹¤.

* **T1, ..., TN μ€ κ°κ° ν•λ‚μ νΈλ¦¬κ°€ λλ©°(μ¬κ·€μ  μ •μ) λ£¨νΈμ λ¶€νΈλ¦¬(subtree)λΌ ν•λ‹¤.**

![](Tree_assets/2022-09-13-00-28-55-image.png)

### π“ μ©μ–΄ μ •λ¦¬

* **λ…Έλ“(node) - νΈλ¦¬μ μ›μ†**
  
  * νΈλ¦¬ Tμ λ…Έλ“ = A, B, C, D, E, F, G, H, I, J

* **κ°„μ„ (edge) - λ…Έλ“λ¥Ό μ—°κ²°ν•λ” μ„  <mark>(λ¶€λ¨ λ…Έλ“μ™€ μμ‹ λ…Έλ“λ¥Ό μ—°κ²°)</mark>**

* **λ£¨νΈ λ…Έλ“(root node) - νΈλ¦¬μ μ‹μ‘ λ…Έλ“**
  
  * νΈλ¦¬ Tμ λ£¨νΈ λ…Έλ“ = A

* **ν•μ  λ…Έλ“(sibling node) - κ°™μ€ λ¶€λ¨ λ…Έλ“μ μμ‹ λ…Έλ“λ“¤**
  
  * B, C, D = ν•μ  λ…Έλ“

* **μ΅°μƒ λ…Έλ“ - κ°„μ„ μ„ λ”°λΌ λ£¨νΈ λ…Έλ“κΉμ§€ μ΄λ¥΄λ” κ²½λ΅μ— μλ” λ¨λ“  λ…Έλ“λ“¤**
  
  * K μ μ΅°μƒ λ…Έλ“ = F, B, A

* **μ„λΈ νΈλ¦¬(subtree) - λ¶€λ¨ λ…Έλ“μ™€ μ—°κ²°λ κ°„μ„ μ„ λμ—μ„ λ• μƒμ„±λλ” νΈλ¦¬**

* **μμ† λ…Έλ“ - λ¶€νΈλ¦¬μ— μλ” ν•μ„ λ λ²¨μ λ…Έλ“λ“¤**
  
  * B μ μμ† λ…Έλ“ = E, F, K

* <mark>**μ°¨μ(degree)**</mark>
  
  ![](Tree_assets/2022-09-13-00-36-32-image.png)
  
  * **λ…Έλ“μ μ°¨μ - <mark>λ…Έλ“μ— μ—°κ²°λ μμ‹ λ…Έλ“μ μ</mark>**
    
    * B μ μ°¨μ = 2, C μ μ°¨μ = 1
  
  * **νΈλ¦¬μ μ°¨μ - νΈλ¦¬μ— μλ” <mark>λ…Έλ“μ μ°¨μ μ¤‘μ—μ„ κ°€μ¥ ν° κ°’</mark>**
    
    * νΈλ¦¬ Tμ μ°¨μ = 3
  
  * **λ‹¨λ§ λ…Έλ“(λ¦¬ν”„ λ…Έλ“) - μ°¨μκ°€ 0μΈ λ…Έλ“ = μμ‹ λ…Έλ“κ°€ μ—†λ” λ…Έλ“**

* <mark>**λ†’μ΄**</mark>
  
  ![](Tree_assets/2022-09-13-00-35-54-image.png)
  
  * **λ…Έλ“μ λ†’μ΄ - <mark>λ£¨νΈμ—μ„ λ…Έλ“μ— μ΄λ¥΄λ” κ°„μ„ μ μ</mark> = λ…Έλ“μ λ λ²¨**
    
    * B μ λ†’μ΄ = 1, F μ λ†’μ΄ = 2
  
  * **νΈλ¦¬μ λ†’μ΄ - νΈλ¦¬μ— μλ” <mark>λ…Έλ“μ λ†’μ΄ μ¤‘μ—μ„ κ°€μ¥ ν° κ°’</mark> = μµλ€ λ λ²¨**
    
    * νΈλ¦¬ T μ λ†’μ΄ = 3

# μ΄μ§„ νΈλ¦¬

> **λ¨λ“  λ…Έλ“λ“¤μ΄ 2κ°μ λ¶€νΈλ¦¬λ¥Ό κ°–λ” νΉλ³„ν• ν•νƒμ νΈλ¦¬**

* **κ° λ…Έλ“κ°€ μμ‹ λ…Έλ“λ¥Ό μµλ€ν• 2κ°κΉμ§€λ§ κ°€μ§ μ μλ” νΈλ¦¬**
  
  * μ™Όμ½ μμ‹ λ…Έλ“ (left child node)
  
  * μ¤λ¥Έμ½ μμ‹ λ…Έλ“ (right child node)

![](Tree_assets/2022-09-13-00-38-01-image.png)

## β–¶ νΉμ„±

* **λ λ²¨ i μ—μ„μ λ…Έλ“μ μµλ€ κ°μ**λ” `2**i` κ°

* **λ†’μ΄κ°€ h μΈ μ΄μ§„ νΈλ¦¬κ°€ κ°€μ§ μ μλ” λ…Έλ“μ μµμ† κ°μ**λ” `(h+1)` κ°κ°€ λλ©°, **μµλ€ κ°μ**λ” `(2**(h+1) - 1)` κ°κ°€ λλ‹¤.

![](Tree_assets/2022-09-13-12-51-25-image.png)

## β–¶ μΆ…λ¥

### β” ν¬ν™” μ΄μ§„ νΈλ¦¬(Full Binary Tree)

* **λ¨λ“  λ λ²¨μ— λ…Έλ“κ°€ ν¬ν™”μƒνƒλ΅ μ°¨μλ” μ΄μ§„ νΈλ¦¬**

* **λ†’μ΄κ°€ h μΌ λ•, μµλ€μ λ…Έλ“ κ°μ**μΈ `(2**(h+1) - 1)`μ λ…Έλ“λ¥Ό κ°€μ§„ μ΄μ§„ νΈλ¦¬
  
  * λ†’μ΄κ°€ 3μΌ λ• 15κ°μ λ…Έλ“λ¥Ό κ°€μ§

* <mark>**λ£¨νΈλ¥Ό 1λ²**</mark>μΌλ΅ ν•μ—¬ `(2**(h+1) - 1)`κΉμ§€ <mark>**μ •ν•΄μ§„ μ„μΉμ— λ€ν• λ…Έλ“ λ²νΈλ¥Ό κ°€μ§**</mark>

![](Tree_assets/2022-09-13-12-52-33-image.png)

### β” μ™„μ „ μ΄μ§„ νΈλ¦¬(Complete Binary Tree)

* * **λ†’μ΄κ°€ hμ΄κ³  λ…Έλ“ μκ°€ nκ°μΌ λ•**(λ‹¨, `h+1 <= n < 2**(h+1) - 1`), <mark>**ν¬ν™” μ΄μ§„ νΈλ¦¬μ λ…Έλ“ λ²νΈ 1λ²λ¶€ν„° nλ²κΉμ§€ λΉ μλ¦¬κ°€ μ—†λ” μ΄μ§„ νΈλ¦¬**</mark>
  
  * ex. λ…Έλ“κ°€ 10κ°μΈ μ™„μ „ μ΄μ§„ νΈλ¦¬

![](Tree_assets/2022-09-13-00-41-36-image.png)

### β” νΈν–¥ μ΄μ§„ νΈλ¦¬(Skewed Binary Tree)

* **λ†’μ΄ hμ— λ€ν• μµμ† κ°μμ λ…Έλ“λ¥Ό κ°€μ§€λ©΄μ„ <mark>ν•μ½ λ°©ν–¥μ μμ‹ λ…Έλ“λ§μ„ κ°€μ§„</mark> μ΄μ§„ νΈλ¦¬**
  
  * μ™Όμ½ νΈν–¥ μ΄μ§„ νΈλ¦¬
  
  * μ¤λ¥Έμ½ νΈν–¥ μ΄μ§„ νΈλ¦¬

* μ„ ν• κµ¬μ΅°λ΅μ„ ν¨μ¨μ΄ λ–¨μ–΄μ§„λ‹¤κ³  λ³Ό μ μμ = νΈλ¦¬ κµ¬μ΅° μ¤‘ μµμ•…μ μ‹κ°„ κµ¬μ΅°

![](Tree_assets/2022-09-13-00-43-07-image.png)

## β–¶ μν(traversal)

> **νΈλ¦¬μ κ° λ…Έλ“λ¥Ό μ¤‘λ³µλμ§€ μ•κ² μ „λ¶€ λ°©λ¬Έ**ν•λ” κ²ƒμ„ μλ―Έ

* **νΈλ¦¬λ” λΉ„μ„ ν• κµ¬μ΅°μ΄κΈ° λ•λ¬Έμ— μ„ ν•κµ¬μ΅°μ—μ„μ™€ κ°™μ΄ μ„ ν›„ μ—°κ²°μ„ μ• μ μ—†λ‹¤.**

### π“ μ΄μ§„νΈλ¦¬μ μν - 3κ°€μ§€ λ°©λ²•β—β—

* 1οΈβƒ£ **μ „μ„μν(preorder traversal)** = `VLR`
  
  * **λ¶€λ¨ λ…Έλ“ λ°©λ¬Έ ν›„ μμ‹λ…Έλ“λ¥Ό μΆ/μ° μμ„λ΅ λ°©λ¬Έ**

* 2οΈβƒ£ **μ¤‘μ„μν(inorder traversal)** = `LVR`
  
  * **μ™Όμ½ μμ‹λ…Έλ“, λ¶€λ¨λ…Έλ“, μ¤λ¥Έμ½ μμ‹λ…Έλ“ μμΌλ΅ λ°©λ¬Έ**

* 3οΈβƒ£ **ν›„μ„μν(postorder traversal)** = `LRV`
  
  * **μμ‹λ…Έλ“λ¥Ό μΆμ° μμ„λ΅ λ°©λ¬Έν• ν›„, λ¶€λ¨λ…Έλ“ λ°©λ¬Έ**

![](Tree_assets/2022-09-13-00-46-11-image.png)

## β–¶ μ „μ„ μν (preorder traversal)

> **λ¨Όμ € λ§λ‚λ” λ…Έλ“λ¥Ό λ°©λ¬Έ μ²λ¦¬**ν• ν›„ μ™Όμ½, μ¤λ¥Έμ½ μμ„λ΅ λ°©λ¬Έ μ²λ¦¬

* μν–‰ λ°©λ²•
  
  * β‘  ν„μ¬ λ…Έλ“ nμ„ λ°©λ¬Έν•μ—¬ μ²λ¦¬ = V
  
  * β‘΅ ν„μ¬ λ…Έλ“ nμ μ™Όμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ = L
  
  * β‘Ά ν„μ¬ λ…Έλ“ nμ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ = R

* μ „μ„ μν μ•κ³ λ¦¬μ¦

```python
def preorder_traverse(T):
    if T:    # T is not None
        visit(T)    # print(T.item)
        preorder_traverse(T.left)
        preorder_traverse(T.right)
```

* ex.
  
  * μμ„ 1 : T0 => T1 => T2
  
  * μμ„ 2 : A => B, D, T3 => C F G
  
  * μ΄ μμ„ : A B D E H I C F G 

![](Tree_assets/2022-09-13-09-37-46-image.png)

## β–¶ μ¤‘μ„ μν (inorder traversal)

> λ§¨ μ™Όμ½μΌλ΅ μ΄λ™ν•μ—¬ **μ™Όμ½μ—μ„ λλμ•„ μ¬ λ•** λ°©λ¬Έμ²λ¦¬ ν›„ μ¤‘κ°„-μ¤λ¥Έμ½ λ°©λ¬Έ

* μν–‰ λ°©λ²•
  
  * β‘  ν„μ¬ λ…Έλ“ nμ μ™Όμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ = L
  - β‘΅ ν„μ¬ λ…Έλ“ nμ„ λ°©λ¬Έν•μ—¬ μ²λ¦¬ = V
  
  - β‘Ά ν„μ¬ λ…Έλ“ nμ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ = R

* μ¤‘μ„ μν μ•κ³ λ¦¬μ¦

```python
def inorder_traverse(T):
    if T:
        inorder_traverse(T.left)
        visit(T)
        inorder_traverse(T.right)
```

* ex.
  
  * μμ„ 1 : T1 => T0 => T2
  - μμ„ 2 : D B T3 => A => F C G
  
  - μ΄ μμ„ : D B H E I A F C G

![](Tree_assets/2022-09-13-09-46-16-image.png)

## β–¶ ν›„μ„ μν (postorder traversal)

> **λ§¨ μ™Όμ½μΌλ΅ μ΄λ™ν•μ—¬ μ™Όμ½, μ¤λ¥Έμ½μ—μ„ λλμ•„** μ¨ ν›„ λ°©λ¬Έ μ²λ¦¬

- μν–‰ λ°©λ²•
  
  * β‘  ν„μ¬ λ…Έλ“ nμ μ™Όμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ = L
  - β‘΅ ν„μ¬ λ…Έλ“ nμ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ΅ μ΄λ™ = R
  
  - β‘Ά ν„μ¬ λ…Έλ“ nμ„ λ°©λ¬Έν•μ—¬ μ²λ¦¬ = V

- μ¤‘μ„ μν μ•κ³ λ¦¬μ¦

```python
def postorder_traverse(T):
    if T:
        postorder_traverse(T.left)
        postorder_traverse(T.right)
        visit(T)
```

* ex.
  
  * μμ„ 1 : T1 => T2 => T0
  - μμ„ 2 : D T3 B => F G C => A
  
  - μ΄ μμ„ : D H I E B F G C A

![](Tree_assets/2022-09-13-09-54-03-image.png)

## β–¶ μμ‹

![](Tree_assets/2022-09-13-13-05-52-image.png)

* μ „μ„ μν(νλ‘) - A B D H I E J C F K G L M

* μ¤‘μ„ μν(λΉ¨κ°•) - H D I B J E A F K C L G M

* ν›„μ„ μν(κ²€μ •) - H I D J E B K F L M G C A

## β–¶ μ΄μ§„νΈλ¦¬μ ν‘ν„

### β” λ°°μ—΄μ„ μ΄μ©ν• μ΄μ§„ νΈλ¦¬μ ν‘ν„ (ν¬ν™” λ° μ™„μ „ μ΄μ§„ νΈλ¦¬)

* **λ£¨νΈμ λ²νΈλ¥Ό 1λ΅ ν•¨**

* **λ λ²¨ nμ— μλ” λ…Έλ“μ— λ€ν•μ—¬ μ™Όμ½λ¶€ν„° μ¤λ¥Έμ½μΌλ΅** `2**n` λ¶€ν„° `2**(n+1) - 1` κΉμ§€ λ²νΈλ¥Ό **μ°¨λ΅€λ΅ λ¶€μ—¬**

![](Tree_assets/2022-09-13-01-02-00-image.png)

* **λ…Έλ“ λ²νΈμ μ„±μ§ (ν¬ν™” λ° μ™„μ „ μ΄μ§„ νΈλ¦¬μΈ κ²½μ°)** β—β—
  
  * **λ…Έλ“ λ²νΈκ°€ iμΈ λ…Έλ“μ λ¶€λ¨ λ…Έλ“ λ²νΈ**β“ `i//2`
  
  * **λ…Έλ“ λ²νΈκ°€ iμΈ λ…Έλ“μ μ™Όμ½ μμ‹ λ…Έλ“ λ²νΈ**β“ `2*i`
  
  * **λ…Έλ“ λ²νΈκ°€ iμΈ λ…Έλ“μ μ¤λ¥Έμ½ μμ‹ λ…Έλ“ λ²νΈ**β“ `2*i + 1`
  
  * **λ λ²¨ nμ λ…Έλ“ λ²νΈ μ‹μ‘ λ²νΈλ”**β“ `2**n`

![](Tree_assets/2022-09-13-01-03-59-image.png)![](Tree_assets/2022-09-13-01-04-07-image.png)

```python
def preorder(n):
    if n <= size:
        print(tree[n])
        preorder(2*n)
        preorder(2*n +1)


tree = [0, 'A', 'B', 'C', 'D', 'E', 'F']        # μ™„μ „μ΄μ§„νΈλ¦¬
size = len(tree) - 1                            # λ§μ§€λ§‰ μ •μ  λ²νΈ
# preorder(1)
preorder(2)         # 2λ²λ¶€ν„° μνν•λ©΄ μ„λΈνΈλ¦¬λ§ μνν•κ³  λ
```

* **λ…Έλ“ λ²νΈλ¥Ό λ°°μ—΄μ μΈλ±μ¤λ΅ μ‚¬μ©**

* λ†’μ΄κ°€ h μΈ μ΄μ§„ νΈλ¦¬λ¥Ό μ„ν• λ°°μ—΄μ ν¬κΈ°λ”β“
  
  * **λ λ²¨ iμ μµλ€ λ…Έλ“ μλ”?** `2**i`
  
  * λ”°λΌμ„ 1 + 2 + 4 + 8 ... + 2**i = `2**(h+1) - 1`

![](Tree_assets/2022-09-13-01-05-55-image.png)![](Tree_assets/2022-09-13-01-06-01-image.png)

* νΈν–¥ νΈλ¦¬μ κ²½μ°μ—λ„ λ°°μ—΄μ ν¬κΈ°λ” λ™μΌν•κ² μƒμ„± = λ©”λ¨λ¦¬ κ³µκ°„ λ‚­λΉ„

![](Tree_assets/2022-09-13-01-06-19-image.png)

### π“ μ΄μ§„ νΈλ¦¬μ μ €μ¥

* νΈλ¦¬μ—μ„ `μ •μ μ κ°μ = κ°„μ„ μ κ°μ + 1`

* 1οΈβƒ£ **λ¶€λ¨ λ²νΈλ¥Ό μΈλ±μ¤λ΅ μμ‹ λ²νΈλ¥Ό μ €μ¥ν•λ” λ°©λ²•**
  
  * ex. κ°„μ„ μ κ°μ N = 4 / 1 2 1 3 3 4 3 5 = λ¶€λ¨ μμ‹ μ
    
    ![](Tree_assets/2022-09-13-10-31-10-image.png)
    
    ```python
    E = int(input())
    V = E + 1
    arr = list(map(int, input().split()))
    # root = 1
    
    # λ¶€λ¨λ¥Ό μΈλ±μ¤λ΅ μμ‹ λ²νΈλ¥Ό μ €μ¥
    ch1 = [0] * (V + 1)
    ch2 = [0] * (V + 1)
    # μμ‹μ„ μΈλ±μ¤λ΅ λ¶€λ¨ λ²νΈλ¥Ό μ €μ¥
    par = [0] * (V + 1)
    
    for i in range(E):
        p, c = arr[i*2], arr[i*2+1]
    # for j in range(0, E*2, 2):
    #     p, c = arr[j], arr[j+1]
    
        if ch1[p] == 0:     # μ•„μ§ μμ‹μ΄ μ—†μΌλ©΄
            ch1[p] = c      # μμ‹1λ΅ μ €μ¥
        else:
            ch2[p] = c
        par[c] = p
    ```

* 2οΈβƒ£ **μμ‹ λ²νΈλ¥Ό μΈλ±μ¤λ΅ λ¶€λ¨ λ²νΈλ¥Ό μ €μ¥ν•λ” λ°©λ²•**
  
  * ex. κ°„μ„ μ κ°μ N = 4 / 1 2 1 3 3 4 3 5 = λ¶€λ¨ μμ‹ μ
    
    ![](Tree_assets/2022-09-13-10-33-41-image.png)

* **λ£¨νΈ μ°ΎκΈ°, μ΅°μƒ μ°ΎκΈ°**
  
  * ex. 5λ² λ…Έλ“μ μ΅°μƒ μ°ΎκΈ°
    
    ![](Tree_assets/2022-09-13-10-35-42-image.png)
    
    ```python
    # root μ°Ύλ” λ°©λ²•
    def find_root(V):
        for i in range(1, V + 1):
            if par[i] == 0:  # λ¶€λ¨κ°€ μ—†μΌλ©΄ root
                return i
    
    # μμ‹ λ²νΈμ„ μΈλ±μ¤λ΅ λ¶€λ¨ λ²νΈλ¥Ό μ €μ¥
    par = [0] * (V + 1)
    
    # λ£¨νΈ μ°ΎκΈ°
    root = find_root(V)
    print(root)
    ```

* **λ°°μ—΄μ„ μ΄μ©ν• μ΄μ§„ νΈλ¦¬ ν‘ν„μ λ‹¨μ **
  
  * **νΈν–¥ μ΄μ§„ νΈλ¦¬μ κ²½μ°μ— μ‚¬μ©ν•μ§€ μ•λ” λ°°μ—΄ μ›μ†μ— λ€ν• λ©”λ¨λ¦¬ κ³µκ°„ λ‚­λΉ„ λ°μƒ**
  
  * νΈλ¦¬μ μ¤‘κ°„μ— μƒλ΅μ΄ λ…Έλ“λ¥Ό μ‚½μ…ν•κ±°λ‚ κΈ°μ΅΄μ λ…Έλ“λ¥Ό μ‚­μ ν•  κ²½μ° λ°°μ—΄μ ν¬κΈ° λ³€κ²½ μ–΄λ ¤μ› λΉ„ν¨μ¨μ 

* λ°°μ—΄μ„ μ΄μ©ν• μ΄μ§„ νΈλ¦¬ ν‘ν„μ λ‹¨μ μ„ λ³΄μ™„ν•  μ μ—†μ„κΉβ“
  
  * μ—°κ²°λ¦¬μ¤νΈλ¥Ό μ΄μ©ν•μ—¬ νΈλ¦¬λ¥Ό ν‘ν„

## β–¶ μ—°κ²° μλ£κµ¬μ΅°λ¥Ό μ΄μ©ν• μ΄μ§„νΈλ¦¬μ ν‘ν„

* **μ΄μ§„ νΈλ¦¬μ λ¨λ“  λ…Έλ“λ” μµλ€ 2κ°μ μμ‹ λ…Έλ“λ¥Ό κ°€μ§€λ―€λ΅ μΌμ •ν• κµ¬μ΅°μ λ‹¨μ μ—°κ²° λ¦¬μ¤νΈ λ…Έλ“λ¥Ό μ‚¬μ©ν•μ—¬ κµ¬ν„**

![](Tree_assets/2022-09-13-01-10-15-image.png)

* μ΄μ§„ νΈλ¦¬ ν‘ν„μ— λ€ν•μ—¬ μ „μ„ μνν•μ—¬ μ •μ μ λ²νΈλ¥Ό μ¶λ ¥

```python
'''
μ •μ μ κ°μ
κ°„μ„ μ€ ν•­μƒ λ¶€λ¨ μμ‹ μμ„λ΅ ν‘κΈ°
μ „μ„ μνν•μ—¬ μ •μ μ λ²νΈλ¥Ό μ¶λ ¥
13
1 2 1 3 2 4 3 5 3 6 4 7 5 8 5 9 6 10 6 11 7 12 11 13
'''
# root μ°Ύλ” λ°©λ²•
def find_root(V):
    for i in range(1, V + 1):
        if par[i] == 0:  # λ¶€λ¨κ°€ μ—†μΌλ©΄ root
            return i


def preorder(n):        # μ „μ„μν
    if n:
        print(n, end=' ')        # visit(n)
        preorder(ch1[n])
        preorder(ch2[n])


def inorder(n):         # μ¤‘μ„ μν
    if n:
        inorder(ch1[n])
        print(n, end=' ')  # visit(n)
        inorder(ch2[n])


def postorder(n):       # ν›„μ„μν
    if n:
        postorder(ch1[n])
        postorder(ch2[n])
        print(n, end=' ')        # visit(n)


V = int(input())        # μ •μ μ κ°μ = λ§μ§€λ§‰ μ •μ  λ²νΈ
E = V - 1
arr = list(map(int, input().split()))

# λ¶€λ¨λ¥Ό μΈλ±μ¤λ΅ μμ‹ λ²νΈλ¥Ό μ €μ¥
ch1 = [0] * (V + 1)
ch2 = [0] * (V + 1)
# μμ‹μ„ μΈλ±μ¤λ΅ λ¶€λ¨ λ²νΈλ¥Ό μ €μ¥
par = [0] * (V + 1)

for i in range(E):
    p, c = arr[i*2], arr[i*2+1]
# for j in range(0, E*2, 2):
#     p, c = arr[j], arr[j+1]

    if ch1[p] == 0:     # μ•„μ§ μμ‹μ΄ μ—†μΌλ©΄
        ch1[p] = c      # μμ‹1λ΅ μ €μ¥
    else:
        ch2[p] = c
    par[c] = p

# λ£¨νΈ μ°ΎκΈ°
root = find_root(V)
# print(root)

preorder(root)
print()
# inorder(root)
print()
# postorder(root)
print()
```

# μμ‹ νΈλ¦¬

> μμ‹μ„ ν‘ν„ν•λ” μ΄μ§„ νΈλ¦¬ = μμ‹ μ΄μ§„ νΈλ¦¬

* **μ—°μ‚°μλ” λ£¨νΈ λ…Έλ“μ΄κ±°λ‚ κ°€μ§€ λ…Έλ“**

* **ν”Όμ—°μ‚°μλ” λ¨λ‘ μ λ…Έλ“**
  
  * (L * R) + (L - R)

![](Tree_assets/2022-09-13-14-09-52-image.png)

## β–¶ μμ‹ νΈλ¦¬μ μν

* μ¤‘μ„ μν : A / B * C * D + E (=μ‹μ μ¤‘μ„ ν‘κΈ°λ²•)

* ν›„μ„ μν : A B / C * D * E + (=μ‹μ ν›„μ„ ν‘κΈ°λ²•)

* μ „μ„ μν : + * * / A B C D E (=μ‹μ μ „μ„ ν‘κΈ°λ²•)

![](Tree_assets/2022-09-13-14-12-23-image.png)

# μ΄μ§„ νƒμƒ‰ νΈλ¦¬

> νƒμƒ‰ μ‘μ—…μ„ ν¨μ¨μ μΌλ΅ ν•κΈ° μ„ν• μλ£κµ¬μ΅°

![](Tree_assets/2022-09-13-14-16-11-image.png)

* **λ¨λ“  μ›μ†λ” μ„λ΅ λ‹¤λ¥Έ μ μΌν• ν‚¤λ¥Ό κ°–λ”λ‹¤.**

* `key(μ™Όμ½ μ„λΈνΈλ¦¬) < key(λ£¨νΈ λ…Έλ“) < key(μ¤λ¥Έμ½ μ„λΈνΈλ¦¬)`

* μ™Όμ½ μ„λΈνΈλ¦¬μ™€ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬λ„ μ΄μ§„ νƒμƒ‰ νΈλ¦¬λ‹¤.

* **μ¤‘μ„ μνν•λ©΄ μ¤λ¦„μ°¨μμΌλ΅ μ •λ ¬λ κ°’μ„ μ–»μ„ μ μλ‹¤.**
  
  * λ£¨νΈ κ°’μ„ μ μ •ν•΄μ•Ό κ· ν• μ΅ν νΈλ¦¬λ¥Ό λ§λ“¤ μ μλ‹¤.

![](Tree_assets/2022-09-13-14-16-35-image.png)

## β–¶ μ΄μ§„ νƒμƒ‰ νΈλ¦¬ μ—°μ‚° (Binary Search Tree)

* **λ£¨νΈμ—μ„ μ‹μ‘**

* **νƒμƒ‰ν•  ν‚¤ κ°’ xλ¥Ό λ£¨νΈ λ…Έλ“μ ν‚¤ κ°’κ³Ό λΉ„κµ**
  
  * `ν‚¤ κ°’ x = λ£¨νΈ λ…Έλ“μ ν‚¤ κ°’` : μ›ν•λ” μ›μ†λ¥Ό μ°Ύμ•μΌλ―€λ΅ νƒμƒ‰ μ—°μ‚° μ„±κ³µ
  
  * `ν‚¤ κ°’ x < λ£¨νΈ λ…Έλ“μ ν‚¤ κ°’` : λ£¨νΈ λ…Έλ“μ μ™Όμ½ μ„λΈνΈλ¦¬μ— λ€ν•΄μ„ νƒμƒ‰ μ—°μ‚° μν–‰
  
  * `ν‚¤ κ°’ x > λ£¨νΈ λ…Έλ“μ ν‚¤ κ°’` : λ£¨νΈ λ…Έλ“μ μ¤λ¥Έμ½ μ„λΈνΈλ¦¬μ— λ€ν•΄μ„ νƒμƒ‰ μ—°μ‚° μν–‰

* μ„λΈνΈλ¦¬μ— λ€ν•΄μ„ μν™μ μΌλ΅ νƒμƒ‰ μ—°μ‚°μ„ λ°λ³µ

![](Tree_assets/2022-09-13-14-31-43-image.png)

### β” μ‚½μ… μ—°μ‚°

* **β‘  λ¨Όμ € νƒμƒ‰ μ—°μ‚°μ„ μν–‰**
  
  * μ‚½μ…ν•  μ›μ†μ™€ κ°™μ€ μ›μ†κ°€ νΈλ¦¬μ— μμΌλ©΄ μ‚½μ…ν•  μ μ—†μΌλ―€λ΅, **κ°™μ€ μ›μ†κ°€ νΈλ¦¬μ— μλ”μ§€ νƒμƒ‰ν•μ—¬ ν™•μΈ**
  
  * νƒμƒ‰μ—μ„ νƒμƒ‰ μ‹¤ν¨κ°€ κ²°μ •λλ” μ„μΉκ°€ μ‚½μ… μ„μΉκ°€ λλ‹¤.

* **β‘΅ νƒμƒ‰ μ‹¤ν¨ν• μ„μΉμ— μ›μ†λ¥Ό μ‚½μ…**

![](Tree_assets/2022-09-13-14-34-25-image.png)

### β” μ‚­μ  μ—°μ‚°

* λ¦¬ν”„ λ…Έλ“ : κ·Έλƒ¥ μ‚­μ 

* μμ‹μ΄ ν•λ‚μΈ λ¶€λ¨ λ…Έλ“ : μ‚­μ  ν›„ μμ‹ λ…Έλ“λ¥Ό λ¶€λ¨ λ…Έλ“λ΅

* μμ‹μ΄ λ‘ κ°μΈ λ¶€λ¨ λ…Έλ“ : μ‚­μ  ν›„ λ£¨νΈ λ…Έλ“μ μ™Όμ½μ—μ„ κ°€μ¥ ν° λ…Έλ“λ¥Ό λ¶€λ¨ λ…Έλ“λ΅ μ΄λ™ 

## β–¶ μ„±λ¥

* **νƒμƒ‰, μ‚½μ…, μ‚­μ  μ‹κ°„μ€ νΈλ¦¬μ λ†’μ΄ λ§νΌ μ‹κ°„μ΄ κ±Έλ¦Ό**
  
  * `O(h)`, hλ” height

* **ν‰κ· μ κ²½μ°**
  
  * μ΄μ§„ νΈλ¦¬κ°€ κ· ν•μ μΌλ΅ μƒμ„±λ κ²½μ°
  
  * **`O(log N)`**

* **μµμ•…μ κ²½μ°**
  
  * ν• μ½μΌλ΅ μΉμ°μΉ νΈν–¥μ΄μ§„νΈλ¦¬μ κ²½μ°, **μμ°¨ νƒμƒ‰κ³Ό μ‹κ°„λ³µμ΅λ„ λ™μΌ**
  
  * **`O(N)`**
  
  ### π“ κ²€μƒ‰ μ•κ³ λ¦¬μ¦μ λΉ„κµ
  
  * λ°°μ—΄μ—μ„μ μμ°¨ κ²€μƒ‰ - `O(N)`
  
  * μ •λ ¬λ λ°°μ—΄μ—μ„μ μμ°¨ κ²€μƒ‰ - `O(N)`
  
  * **μ •λ ¬λ λ°°μ—΄μ—μ„μ μ΄μ§„ νƒμƒ‰ - `O(log N)`**
    
    * κ³ μ • λ°°μ—΄ ν¬κΈ°μ™€ μ‚½μ…, μ‚­μ  μ‹ μ¶”κ°€ μ—°μ‚° ν•„μ”
  
  * **μ΄μ§„ νƒμƒ‰νΈλ¦¬μ—μ„μ ν‰κ·  - `O(log N)`**
    
    * μµμ•…μ κ²½μ° - `O(N)`
    
    * μ™„μ „ μ΄μ§„ νΈλ¦¬ or κ· ν•νΈλ¦¬λ΅ λ°”κΏ€ μ μμΌλ©΄ μµμ•…μ κ²½μ°λ” λ¬΄μ‹
      
      * μƒλ΅μ΄ μ›μ†λ¥Ό μ‚½μ…ν•  λ• μ‚½μ… μ‹κ°„μ„ μ¤„μΈλ‹¤.
      
      * ν‰κ· κ³Ό μµμ•…μ μ‹κ°„μ΄ κ°™μ•„μ§„λ‹¤. `O(log N)`
  
  * **ν•΄μ‹ κ²€μƒ‰ - `O(1)`**
    
    * μ¶”κ°€ μ €μ¥ κ³µκ°„μ΄ ν•„μ”

# ν™(heap)

> **<mark>μ™„μ „ μ΄μ§„ νΈλ¦¬</mark>μ— μλ” <mark>λ…Έλ“ μ¤‘μ—μ„ ν‚¤κ°’μ΄ κ°€μ¥ ν° λ…Έλ“</mark>λ‚ <mark>ν‚¤κ°’μ΄ κ°€μ¥ μ‘μ€ λ…Έλ“λ¥Ό μ°ΎκΈ° μ„ν•΄μ„ λ§λ“  μλ£κµ¬μ΅°</mark>**

* **μµλ€ ν™(max heap)**
  
  * ν‚¤κ°’μ΄ κ°€μ¥ ν° λ…Έλ“λ¥Ό μ°ΎκΈ° μ„ν• μ™„μ „ μ΄μ§„ νΈλ¦¬
  
  * **`λ¶€λ¨ λ…Έλ“μ ν‚¤κ°’ > μμ‹ λ…Έλ“μ ν‚¤κ°’`**
  
  * **λ£¨νΈ λ…Έλ“ : ν‚¤κ°’μ΄ κ°€μ¥ ν° λ…Έλ“**
    
    ![](Tree_assets/2022-09-13-14-51-38-image.png)

* **μµμ† ν™(min heap)**
  
  * ν‚¤κ°’μ΄ κ°€μ¥ μ‘μ€ λ…Έλ“λ¥Ό μ°ΎκΈ° μ„ν• μ™„μ „ μ΄μ§„ νΈλ¦¬
  
  * **`λ¶€λ¨ λ…Έλ“μ ν‚¤κ°’ < μμ‹ λ…Έλ“μ ν‚¤κ°’`**
  
  * **λ£¨νΈ λ…Έλ“ : ν‚¤κ°’μ΄ κ°€μ¥ μ‘μ€ λ…Έλ“**
    
    ![](Tree_assets/2022-09-13-16-13-18-image.png)

* ν™μ ν‚¤λ¥Ό μ°μ„ μμ„λ΅ ν™μ©ν•μ—¬ μ°μ„ μμ„ νλ¥Ό κµ¬ν„ν•  μ μλ‹¤.

## β–¶ ν™ μ—°μ‚° - μ‚½μ…

* μµλ€ ν™μΈ κ²½μ°
  
  * β‘  μ™„μ „ μ΄μ§„ νΈλ¦¬ μ μ§€ : `last += 1`
  
  * β‘΅ `λ¶€λ¨ λ…Έλ“μ ν‚¤κ°’ > μμ‹ λ…Έλ“μ ν‚¤κ°’` : ν‚¤κ°’ λΉ„κµ

![](Tree_assets/2022-09-13-14-58-08-image.png)

* **λ¶€λ¨ λ…Έλ“μ ν‚¤κ°’μ΄ λ” μ‘μ€ κ²½μ°**
  
  * λ¶€λ¨ λ…Έλ“μ™€ μμ‹ λ…Έλ“ μλ¦¬ λ°”κΎΈκΈ°
    
    * μ΅°κ±΄μ„ λ§μ΅±ν•  λ•κΉμ§€ or λ¶€λ¨κ°€ μ—†μ„ λ•κΉμ§€ μλ¦¬ κµν™

![](Tree_assets/2022-09-13-15-00-03-image.png)

```python
# μµλ€ ν™
'''
2 5 7 3 4 6
'''
def enq(n):
    global last
    last += 1       # λ§μ§€λ§‰ μ •μ  μ¶”κ°€
    heap[last] = n  # λ§μ§€λ§‰ μ •μ μ— key μ¶”κ°€
    # λ¶€λ¨ < μμ‹ μΈ κ²½μ° μλ¦¬ κµν™
    c = last        # μμ‹ μ •μ  λ²νΈ
    p = c // 2      # λ¶€λ¨ μ •μ  λ²νΈ - μ™„μ „μ΄μ§„νΈλ¦¬μ΄κΈ° λ•λ¬Έ
    # 1. λ¶€λ¨κ°€ μ—†κ±°λ‚
    # 2. λ¶€λ¨ > μμ‹ μ΅°κ±΄μ„ λ§μ΅±ν•  λ•κΉμ§€
    while p and heap[p] < heap[c]:      # p = 0 μ΄λ©΄ λ¶€λ¨κ°€ μ—†λ‹¤λ” λ»
        heap[p], heap[c] = heap[c], heap[p]
        c = p       # μμ‹, λ¶€λ¨ μ •μ  λ²νΈ μ—…λ°μ΄νΈ
        p = c // 2


heap = [0] * 100
last = 0            # ν•λ‚λ„ μ•λ“¤μ–΄μ¨ μƒνƒ
```

## β–¶ ν™ μ—°μ‚° - μ‚­μ 

* **ν™μ—μ„λ” <mark>λ£¨νΈ λ…Έλ“μ μ›μ†λ§μ„ μ‚­μ </mark>ν•  μ μλ‹¤.**

* λ£¨νΈ λ…Έλ“μ μ›μ†λ¥Ό μ‚­μ ν•μ—¬ λ°ν™

* **ν™μ μΆ…λ¥μ— λ”°λΌ μµλ€κ°’ λλ” μµμ†κ°’μ„ κµ¬ν•  μ μλ‹¤.**
  
  * μ™„μ „ μ΄μ§„ νΈλ¦¬
  
  * μµλ€ν™ or μµμ†ν™

![](Tree_assets/2022-09-13-15-41-47-image.png)

```python
def deq():
    global last
    tmp = heap[1]       # λ£¨νΈ λ°±μ—…
    # μ‚­μ ν•  λ…Έλ“μ ν‚¤λ¥Ό λ£¨νΈμ— λ³µμ‚¬
    heap[1] = heap[last]
    last -= 1           # λ§μ§€λ§‰ λ…Έλ“ μ‚­μ 
    # λ£¨νΈμ™€ μμ‹ λ…Έλ“μ κ°’λ“¤ λΉ„κµ
    p = 1
    c = p * 2           # μ™Όμ½ μμ‹

    while c <= last:    # μμ‹μ΄ ν•λ‚λΌλ„ μλ” κ²½μ°
        # μ¤λ¥Έμ½ μμ‹λ„ μκ³ , μ¤λ¥Έμ½ μμ‹μ΄ λ” ν¬λ©΄
        if c+1 <= last and heap[c] < heap[c+1]:
            c += 1      # λΉ„κµ λ€μƒμ„ μ¤λ¥Έμ½ μμ‹μΌλ΅ μ„ μ •
        if heap[p] < heap[c]:   # μμ‹μ΄ λ” ν¬λ©΄ μµλ€ν™ κ·μΉ™μ— μ–΄κΈ‹λ‚λ―€λ΅ κµν™
            heap[p], heap[c] = heap[c], heap[p]
            p = c       # λ¶€λ¨μ™€ μμ‹ μ •μ μ„ μ—…λ°μ΄νΈ
            c = p * 2   # μ™Όμ½ μμ‹ μ •μ  λ²νΈ
        else:           # λ¶€λ¨κ°€ λ” ν¬λ©΄ λΉ„κµ μ¤‘λ‹¨
            break
    return tmp


heap = [0] * 100
last = 0            # ν•λ‚λ„ μ•λ“¤μ–΄μ¨ μƒνƒ

enq(2)
enq(5)
enq(7)
enq(3)
enq(4)
enq(6)
while last:         # lastκ°€ 0λ³΄λ‹¤ ν¬λ©΄
    print(deq())
```
