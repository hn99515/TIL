# Refactoring

> **기존 소스코드 고치기**

* 새로운 소스코드를 만들어 내는 것이 아니라 기존에 잘 동작하는 코드를 개선하기 위함
  
  * **외부 동작은 변경하지 않고, 내부 구조를 변경하는 작업**

* 효율적인 코드 최적화

* *기능을 추가하기 전, 리팩토링을 먼저 하는 것을 추천 (동시 작업하는 것은 비추천!)*
  
  * 리팩토링을 하면 가독성이 좋고, 유지보수하기 좋아지기 때문에 보다 기능 추가하기가 수월

## ▶️ 특징과 장점

* 리팩토링은 참신한 새로운 주장이 아니다.

* 출력 결과에 변화가 없어야 한다.

* 개발자들마다 결과가 다를 수 있다.

## ▶️ 리팩토링 방법

- 코드 가독성을 높이는 방향으로 진행

- 한 단계의 들여쓰기를 한다.
  
  - 함수로 빼서 들여쓰기를 최소화

- else를 없앤다.
  
  - return 을 사용하여 필요없는 else를 지운다.

- 하나의 역할을 하는 메소드로 만든다.
  
  - 하나의 메소드는 1개의 역할만 하도록 구성한다.
* 임시 변수 제거
  
  * 의미 파악에 도움이 되지 않는 변수는 제거

* 추상화 Level을 맞추기
  
  * 더 이해하기 쉽도록 핵심적인 것만 드러내기 (덜 중요한 것음 감추기)

# 가독성 좋은 코드란?

* 이름(변수명, 함수명 등)을 짓는데 공들여야 함
  
  * 의도와 의미가 들어가는 이름

* 매직넘버를 치환하기 = 예측할 수 있는 코드
  
  * 하드코딩 형태로 숫자를 적기보다는 변수에 담아 표현

* 상수 의존관계
  
  * 상수끼리 관계가 있는 경우, 관계를 표시하도록 해주는 것이 가독성에 좋음

* flag 변수보다는 found 변수가 더 명확함

* 명확한 함수명 사용

* Extract Function
  
  * 함수는 작게 나누어서 쓸수록 좋음 = 하나의 함수는 하나의 기능
  
  * 함수명을 주석 대신의 역할을 하도록 노력하자.

* Inline Function
  
  * 필요하다면 1회성 함수를 inline 시키기
  
  * 따로 뺄 필요가 없는 경우에는 하나로 합치는 것이 좋음 (주관적)

* Extract Variable
  
  * 변수도 이해하기 쉽게 이름을 별도로 빼서 정한다.
  
  * 의미를 이해하기 쉽도록 정의하고 배열에 작성하는 것이 좋다.

* Encapsulate Variable = 캡슐화
  
  * 최대한 객체의 필드는 private로 유지
  
  * 필드값을 제어하는 통로를 줄인다.
  
  * 유효값 검사 가능

* Introduce Parameter Object = 파라미터 객체를 만들어 사용하기
  
  * 같이 다니는 변수들을 미리 만들어 두고 사용하기

* Replace Control Flag with Break = Contorl Flag 제거하기
  
  * 함수 등을 활용하여 flag 변수를 제거!

* Replace Conditional with polymorphism = 다형성 적용 (상속 활용)
  
  * 다형성을 이용해 switch 문을 제거할 수 있음
  
  * 타입 코드에 대한 switch 문이면 상속과 다형성으로 처리


